<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:5,&quot;tests&quot;:68,&quot;passes&quot;:68,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2021-06-08T08:46:49.313Z&quot;,&quot;end&quot;:&quot;2021-06-08T08:46:53.768Z&quot;,&quot;duration&quot;:4455,&quot;testsRegistered&quot;:68,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;957de4ca-8a1a-4d31-afb7-3a4ad54cf9f2&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;title&quot;:&quot;Testing Add API&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\arodr\\Documents\\AngularProjects\\tfm\\server\\test\\addTest.js&quot;,&quot;file&quot;:&quot;\\test\\addTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: Get session token and user id in \&quot;Testing Add API\&quot;&quot;,&quot;fullTitle&quot;:&quot;Testing Add API \&quot;before all\&quot; hook: Get session token and user id in \&quot;Testing Add API\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:454,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(urlUsers)\n    .post(&#x27;/login&#x27;)\n    .send({username: &#x27;Prueba&#x27;, password: &#x27;prueba&#x27;})\n    .end(function (err, res){\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property(&#x27;token&#x27;).not.be.null;\n        token = res.body.token;\n        userId = res.body.id;\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44d05ea5-a890-4ef2-976b-95e412cdf537&quot;,&quot;parentUUID&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new pet for test user&quot;,&quot;fullTitle&quot;:&quot;Testing Add API should create a new pet for test user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:33,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(urlPets)\n    .post(&#x27;/&#x27;)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .send({name: &#x27;pet test&#x27;, breed: &#x27;breed test&#x27;, weight: 1, age: 1, description: &#x27;descriptionTest&#x27;, picture: &#x27;&#x27;, userId: userId})\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property(&#x27;id&#x27;);\n        petId = res.body.id;\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c6585fdb-d561-44b0-becf-e5cdc229e9f6&quot;,&quot;parentUUID&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not find any add by user id&quot;,&quot;fullTitle&quot;:&quot;Testing Add API should not find any add by user id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/&#x27; + userId)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.lengthOf(0);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb1b4ac5-aceb-4188-ab46-4a3850915cb7&quot;,&quot;parentUUID&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new volunteer add without token&quot;,&quot;fullTitle&quot;:&quot;Testing Add API should not create a new volunteer add without token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .post(&#x27;/volunteer&#x27;)\n    .send({})\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).to.be.undefined;\n        expect(res).to.have.status(403);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76ac2bfb-dad7-4ed9-aabe-1f789db34cc1&quot;,&quot;parentUUID&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create a new volunteer add&quot;,&quot;fullTitle&quot;:&quot;Testing Add API should create a new volunteer add&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .post(&#x27;/volunteer&#x27;)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .send({userId: userId, petId: null})\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property(&#x27;id&#x27;);\n        volunteerId = res.body.id;\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80a62d62-3051-4e6a-8627-e91fa8ec4b55&quot;,&quot;parentUUID&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create the same volunteer add&quot;,&quot;fullTitle&quot;:&quot;Testing Add API should not create the same volunteer add&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .post(&#x27;/volunteer&#x27;)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .send({userId: userId, petId: null})\n    .end(function (err, res){\n        expect(res).to.have.status(409);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cdff9ec8-9c36-4ced-a544-1e78f08229e1&quot;,&quot;parentUUID&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not find created add without token&quot;,&quot;fullTitle&quot;:&quot;Testing Add API should not find created add without token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/&#x27; + userId)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).to.be.undefined;\n        expect(res).to.have.status(403);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c04626b9-0c2c-4d22-82ed-d759c16f5978&quot;,&quot;parentUUID&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not find add by non-existing user id&quot;,&quot;fullTitle&quot;:&quot;Testing Add API should not find add by non-existing user id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/0000&#x27;)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.lengthOf(0);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee86e4ff-df4a-4715-a576-5ee5f3b7be19&quot;,&quot;parentUUID&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should find volunteer add by its user id&quot;,&quot;fullTitle&quot;:&quot;Testing Add API should find volunteer add by its user id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/&#x27; + userId)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.lengthOf(1);\n        expect(res.body[0]).to.have.property(&#x27;id&#x27;).to.be.equal(volunteerId);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4afb5db8-fd1b-4066-8ade-5f1977c9bbf2&quot;,&quot;parentUUID&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new adoption add without token&quot;,&quot;fullTitle&quot;:&quot;Testing Add API should not create a new adoption add without token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .post(&#x27;/adoption&#x27;)\n    .send({})\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).to.be.undefined;\n        expect(res).to.have.status(403);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1b77ea7-4120-4826-ab3d-16fb656d1ee6&quot;,&quot;parentUUID&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create a new adoption add&quot;,&quot;fullTitle&quot;:&quot;Testing Add API should create a new adoption add&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .post(&#x27;/adoption&#x27;)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .send({userId: userId, petId: petId})\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property(&#x27;id&#x27;);\n        adoptionId = res.body.id;\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2237c252-47dc-4818-b1a4-908d672af915&quot;,&quot;parentUUID&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create the same adoption add&quot;,&quot;fullTitle&quot;:&quot;Testing Add API should not create the same adoption add&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .post(&#x27;/adoption&#x27;)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .send({userId: userId, petId: petId})\n    .end(function (err, res){\n        expect(res).to.have.status(409);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b3f2db8-261d-4c34-8392-4c107e09b297&quot;,&quot;parentUUID&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should find adoption add by its user id&quot;,&quot;fullTitle&quot;:&quot;Testing Add API should find adoption add by its user id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/&#x27; + userId)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.lengthOf(2);\n        expect(res.body[1]).to.have.property(&#x27;id&#x27;).to.be.equal(adoptionId);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d0547d0-5370-4242-b618-15f2268b8e78&quot;,&quot;parentUUID&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete add without token&quot;,&quot;fullTitle&quot;:&quot;Testing Add API should not delete add without token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .delete(&#x27;/&#x27; + volunteerId)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).to.be.undefined;\n        expect(res).to.have.status(403);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e17600aa-d58c-446a-be83-c3e8ed157180&quot;,&quot;parentUUID&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete volunteer add by its ID&quot;,&quot;fullTitle&quot;:&quot;Testing Add API should delete volunteer add by its ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .delete(&#x27;/&#x27; + volunteerId)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4726dfc-3384-401b-88b4-c66cf6d6dab0&quot;,&quot;parentUUID&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not find deleted volunteer add&quot;,&quot;fullTitle&quot;:&quot;Testing Add API should not find deleted volunteer add&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/&#x27; + userId)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.lengthOf(1);\n        expect(res.body[0]).to.have.property(&#x27;id&#x27;).not.be.equal(volunteerId);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;84ef8449-8fff-473a-901c-14d072317d6c&quot;,&quot;parentUUID&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete adoption add by its ID&quot;,&quot;fullTitle&quot;:&quot;Testing Add API should delete adoption add by its ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .delete(&#x27;/&#x27; + adoptionId)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2fa63f98-4de6-46eb-b7b8-7a7d755118e2&quot;,&quot;parentUUID&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not find deleted adoption add&quot;,&quot;fullTitle&quot;:&quot;Testing Add API should not find deleted adoption add&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/&#x27; + userId)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.lengthOf(0);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8aeb3e2-77df-4c5a-ae94-7f00fa10f5b8&quot;,&quot;parentUUID&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not find any add by type 1 (Adoption) for my user id when another user searches for it&quot;,&quot;fullTitle&quot;:&quot;Testing Add API should not find any add by type 1 (Adoption) for my user id when another user searches for it&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/&#x27;)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .send({type: 1, userId: 1})\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(404);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47085fcb-7370-4e60-bda8-597a58e8d2b9&quot;,&quot;parentUUID&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not find any add by type 2 (Volunteer) for my user id when another user searches for it&quot;,&quot;fullTitle&quot;:&quot;Testing Add API should not find any add by type 2 (Volunteer) for my user id when another user searches for it&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/&#x27;)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .send({type: 2, userId: 1})\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(404);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;999e60db-d43a-4dba-a139-e30efba3cb58&quot;,&quot;parentUUID&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete pet for its ID&quot;,&quot;fullTitle&quot;:&quot;Testing Add API should delete pet for its ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(urlPets)\n    .delete(&#x27;/&#x27; + petId)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a44fd357-2194-4f06-bcdf-f462007f7ad2&quot;,&quot;parentUUID&quot;:&quot;dadfd472-3784-4851-be60-59aba3bbae39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c6585fdb-d561-44b0-becf-e5cdc229e9f6&quot;,&quot;bb1b4ac5-aceb-4188-ab46-4a3850915cb7&quot;,&quot;76ac2bfb-dad7-4ed9-aabe-1f789db34cc1&quot;,&quot;80a62d62-3051-4e6a-8627-e91fa8ec4b55&quot;,&quot;cdff9ec8-9c36-4ced-a544-1e78f08229e1&quot;,&quot;c04626b9-0c2c-4d22-82ed-d759c16f5978&quot;,&quot;ee86e4ff-df4a-4715-a576-5ee5f3b7be19&quot;,&quot;4afb5db8-fd1b-4066-8ade-5f1977c9bbf2&quot;,&quot;d1b77ea7-4120-4826-ab3d-16fb656d1ee6&quot;,&quot;2237c252-47dc-4818-b1a4-908d672af915&quot;,&quot;6b3f2db8-261d-4c34-8392-4c107e09b297&quot;,&quot;4d0547d0-5370-4242-b618-15f2268b8e78&quot;,&quot;e17600aa-d58c-446a-be83-c3e8ed157180&quot;,&quot;a4726dfc-3384-401b-88b4-c66cf6d6dab0&quot;,&quot;84ef8449-8fff-473a-901c-14d072317d6c&quot;,&quot;2fa63f98-4de6-46eb-b7b8-7a7d755118e2&quot;,&quot;e8aeb3e2-77df-4c5a-ae94-7f00fa10f5b8&quot;,&quot;47085fcb-7370-4e60-bda8-597a58e8d2b9&quot;,&quot;999e60db-d43a-4dba-a139-e30efba3cb58&quot;,&quot;a44fd357-2194-4f06-bcdf-f462007f7ad2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:193,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;title&quot;:&quot;Testing Comunication API&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\arodr\\Documents\\AngularProjects\\tfm\\server\\test\\comunicationTest.js&quot;,&quot;file&quot;:&quot;\\test\\comunicationTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: Get session token and user id in \&quot;Testing Comunication API\&quot;&quot;,&quot;fullTitle&quot;:&quot;Testing Comunication API \&quot;before all\&quot; hook: Get session token and user id in \&quot;Testing Comunication API\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:355,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(urlUsers)\n    .post(&#x27;/login&#x27;)\n    .send({username: &#x27;Prueba&#x27;, password: &#x27;prueba&#x27;})\n    .end(function (err, res){\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property(&#x27;token&#x27;).not.be.null;\n        token = res.body.token;\n        myUserId = res.body.id;\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fada3510-0e7a-494a-8876-805803c72456&quot;,&quot;parentUUID&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should save another user for interaction&quot;,&quot;fullTitle&quot;:&quot;Testing Comunication API should save another user for interaction&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:349,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(urlUsers)\n    .post(&#x27;/&#x27;)\n    .send({username: &#x27;Prueba2&#x27;, password: &#x27;Prueba2&#x27;, address: &#x27;Prueba2 direction&#x27;, description: &#x27;Prueba2 description&#x27;, email: &#x27;Prueba2@gmail.com&#x27;})\n    .end(function (err, res){\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property(&#x27;id&#x27;);\n        chatUserId = res.body.id;\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2bae96c-2790-44ad-90ad-80495189e58d&quot;,&quot;parentUUID&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not find any comunications without token&quot;,&quot;fullTitle&quot;:&quot;Testing Comunication API should not find any comunications without token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/&#x27; + myUserId)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).to.be.undefined;\n        expect(res).to.have.status(403);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f68a9fe4-e6bf-4153-b532-a9c100fec9f2&quot;,&quot;parentUUID&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not find any comunication by my user id&quot;,&quot;fullTitle&quot;:&quot;Testing Comunication API should not find any comunication by my user id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/&#x27; + myUserId)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.lengthOf(0);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4dd04a8d-9121-41f9-968f-9d9c69be9f10&quot;,&quot;parentUUID&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new chat without token&quot;,&quot;fullTitle&quot;:&quot;Testing Comunication API should not create a new chat without token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .post(&#x27;/&#x27;)\n    .send({})\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).to.be.undefined;\n        expect(res).to.have.status(403);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80305002-aa2e-4641-80f6-bdd1f0f03422&quot;,&quot;parentUUID&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create a new chat between two users&quot;,&quot;fullTitle&quot;:&quot;Testing Comunication API should create a new chat between two users&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .post(&#x27;/&#x27;)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .send({userId1: myUserId, userId2: chatUserId, messages: &#x27;hola&#x27;, type: 1, notification: chatUserId})\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property(&#x27;id&#x27;);\n        chatId = res.body.id;\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3cf433b0-b69a-4fd0-b9b3-2a1a750558d3&quot;,&quot;parentUUID&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create the same chat&quot;,&quot;fullTitle&quot;:&quot;Testing Comunication API should not create the same chat&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .post(&#x27;/&#x27;)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .send({userId1: myUserId, userId2: chatUserId, messages: &#x27;hola&#x27;, type: 1, notification: chatUserId})\n    .end(function (err, res){\n        expect(res).to.have.status(409);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fafb68bc-f83a-4f60-bf67-1e1cb1dd9790&quot;,&quot;parentUUID&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not find chat by non-existing user id&quot;,&quot;fullTitle&quot;:&quot;Testing Comunication API should not find chat by non-existing user id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/0000&#x27;)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.lengthOf(0);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9e00942-3e4f-464a-84b1-0411a9f9d018&quot;,&quot;parentUUID&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should find chat by my user id&quot;,&quot;fullTitle&quot;:&quot;Testing Comunication API should find chat by my user id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/&#x27; + myUserId)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.lengthOf(1);\n        expect(res.body[0]).to.have.property(&#x27;id&#x27;).to.be.equal(chatId);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;724b2302-d53b-4fd7-9f94-635a98af2aa0&quot;,&quot;parentUUID&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should find chat by chat user id&quot;,&quot;fullTitle&quot;:&quot;Testing Comunication API should find chat by chat user id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/&#x27; + chatUserId)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.lengthOf(1);\n        expect(res.body[0]).to.have.property(&#x27;id&#x27;).to.be.equal(chatId);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78465dd5-0bca-4c9f-a807-f442bcb5216d&quot;,&quot;parentUUID&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not find created chat between users without token&quot;,&quot;fullTitle&quot;:&quot;Testing Comunication API should not find created chat between users without token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/&#x27;)\n    .query({userId1: myUserId, userId2: chatUserId, type: 1})\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).to.be.undefined;\n        expect(res).to.have.status(403);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7cc953da-0bdc-4dd6-91c4-ed739a22b399&quot;,&quot;parentUUID&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not find chat between users by non-existing users id&quot;,&quot;fullTitle&quot;:&quot;Testing Comunication API should not find chat between users by non-existing users id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/&#x27;)\n    .query({userId1: &#x27;0000&#x27;, userId2: &#x27;xxxxx&#x27;, type: 1})\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.lengthOf(0);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81100753-9c50-4c7f-bb88-7f588ca2b612&quot;,&quot;parentUUID&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should find chat between users by its users id and type 1 (Adoption)&quot;,&quot;fullTitle&quot;:&quot;Testing Comunication API should find chat between users by its users id and type 1 (Adoption)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/&#x27;)\n    .query({userId1: myUserId, userId2: chatUserId, type: &#x27;1&#x27;})\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property(&#x27;id&#x27;).to.be.equal(chatId);\n        expect(res.body).to.have.property(&#x27;notification&#x27;).to.be.equal(chatUserId);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;97b4d83b-68cd-41a7-933d-46e741b370df&quot;,&quot;parentUUID&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update chat without token&quot;,&quot;fullTitle&quot;:&quot;Testing Comunication API should not update chat without token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .put(&#x27;/&#x27; + chatId)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).to.be.undefined;\n        expect(res).to.have.status(403);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6b9d157-3899-45ce-b125-cd91ea4fac9e&quot;,&quot;parentUUID&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update chat by non-existing ID&quot;,&quot;fullTitle&quot;:&quot;Testing Comunication API should not update chat by non-existing ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .put(&#x27;/00000&#x27;)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .send({messages: &#x27;hola&#x27;, notification: &#x27;notif&#x27;})\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(404);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1f7220dd-efa3-4ce9-823d-f51609d54a9e&quot;,&quot;parentUUID&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should update chat by its ID&quot;,&quot;fullTitle&quot;:&quot;Testing Comunication API should update chat by its ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .put(&#x27;/&#x27; + chatId)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .send({messages: &#x27;hola&#x27;, notification: myUserId})\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aaabc7a4-c3ec-4b26-9d58-a9e4b9ae8a86&quot;,&quot;parentUUID&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Chat between users should now have notifications for the other user&quot;,&quot;fullTitle&quot;:&quot;Testing Comunication API Chat between users should now have notifications for the other user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/&#x27;)\n    .query({userId1: myUserId, userId2: chatUserId, type: &#x27;1&#x27;})\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property(&#x27;id&#x27;).to.be.equal(chatId);\n        expect(res.body).to.have.property(&#x27;notification&#x27;).to.be.equal(myUserId);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1965c63-a6be-47fc-94f6-e0ed16230d11&quot;,&quot;parentUUID&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete chat without token&quot;,&quot;fullTitle&quot;:&quot;Testing Comunication API should not delete chat without token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .delete(&#x27;/&#x27; + chatId)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).to.be.undefined;\n        expect(res).to.have.status(403);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5f73cfc-805f-4e58-b4b3-bf92836165da&quot;,&quot;parentUUID&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete chat by its ID&quot;,&quot;fullTitle&quot;:&quot;Testing Comunication API should delete chat by its ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .delete(&#x27;/&#x27; + chatId)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;594b4c48-c793-4b83-b912-9fee47de1f00&quot;,&quot;parentUUID&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not find deleted chat by any of its users id&quot;,&quot;fullTitle&quot;:&quot;Testing Comunication API should not find deleted chat by any of its users id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/&#x27; + chatUserId)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.lengthOf(0);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f8dbb7b-8b80-45f0-ab62-4171e2aef6f0&quot;,&quot;parentUUID&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete chat user for its ID&quot;,&quot;fullTitle&quot;:&quot;Testing Comunication API should delete chat user for its ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(urlUsers)\n    .delete(&#x27;/&#x27; + chatUserId)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;020f041e-478e-40b9-a5ff-6c80d235e167&quot;,&quot;parentUUID&quot;:&quot;d8c21dd0-38b7-44bd-b7f3-cd067ced414f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e2bae96c-2790-44ad-90ad-80495189e58d&quot;,&quot;f68a9fe4-e6bf-4153-b532-a9c100fec9f2&quot;,&quot;4dd04a8d-9121-41f9-968f-9d9c69be9f10&quot;,&quot;80305002-aa2e-4641-80f6-bdd1f0f03422&quot;,&quot;3cf433b0-b69a-4fd0-b9b3-2a1a750558d3&quot;,&quot;fafb68bc-f83a-4f60-bf67-1e1cb1dd9790&quot;,&quot;b9e00942-3e4f-464a-84b1-0411a9f9d018&quot;,&quot;724b2302-d53b-4fd7-9f94-635a98af2aa0&quot;,&quot;78465dd5-0bca-4c9f-a807-f442bcb5216d&quot;,&quot;7cc953da-0bdc-4dd6-91c4-ed739a22b399&quot;,&quot;81100753-9c50-4c7f-bb88-7f588ca2b612&quot;,&quot;97b4d83b-68cd-41a7-933d-46e741b370df&quot;,&quot;f6b9d157-3899-45ce-b125-cd91ea4fac9e&quot;,&quot;1f7220dd-efa3-4ce9-823d-f51609d54a9e&quot;,&quot;aaabc7a4-c3ec-4b26-9d58-a9e4b9ae8a86&quot;,&quot;f1965c63-a6be-47fc-94f6-e0ed16230d11&quot;,&quot;a5f73cfc-805f-4e58-b4b3-bf92836165da&quot;,&quot;594b4c48-c793-4b83-b912-9fee47de1f00&quot;,&quot;9f8dbb7b-8b80-45f0-ab62-4171e2aef6f0&quot;,&quot;020f041e-478e-40b9-a5ff-6c80d235e167&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:497,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4c37a59a-2837-4a81-bc89-52866a722a52&quot;,&quot;title&quot;:&quot;Testing Email API&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\arodr\\Documents\\AngularProjects\\tfm\\server\\test\\emailTest.js&quot;,&quot;file&quot;:&quot;\\test\\emailTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: Get session token and user id in \&quot;Testing Email API\&quot;&quot;,&quot;fullTitle&quot;:&quot;Testing Email API \&quot;before all\&quot; hook: Get session token and user id in \&quot;Testing Email API\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:332,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(urlUsers)\n    .post(&#x27;/login&#x27;)\n    .send({username: &#x27;Prueba&#x27;, password: &#x27;prueba&#x27;})\n    .end(function (err, res){\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property(&#x27;token&#x27;).not.be.null;\n        token = res.body.token;\n        userId = res.body.id;\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c69f527c-999c-402d-ab88-fd78327ef58c&quot;,&quot;parentUUID&quot;:&quot;4c37a59a-2837-4a81-bc89-52866a722a52&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not send email without token&quot;,&quot;fullTitle&quot;:&quot;Testing Email API should not send email without token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .post(&#x27;/&#x27;)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).to.be.undefined;\n        expect(res).to.have.status(403);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a6376b5d-214f-40ae-bcc7-c23e1b1e4370&quot;,&quot;parentUUID&quot;:&quot;4c37a59a-2837-4a81-bc89-52866a722a52&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should send email and return 200&quot;,&quot;fullTitle&quot;:&quot;Testing Email API should send email and return 200&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1271,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .post(&#x27;/&#x27;)\n    .send({senderName: &#x27;Sender&#x27;, receiverName: &#x27;Receiver&#x27;, receiverEmail: &#x27;receiver@gmail.com&#x27;})\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res).to.have.status(200);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f9fcaf6-860e-47a1-ab6a-e43def3c1929&quot;,&quot;parentUUID&quot;:&quot;4c37a59a-2837-4a81-bc89-52866a722a52&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a6376b5d-214f-40ae-bcc7-c23e1b1e4370&quot;,&quot;6f9fcaf6-860e-47a1-ab6a-e43def3c1929&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1276,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c12780d6-94ca-4172-a2c1-6aa04c859356&quot;,&quot;title&quot;:&quot;Testing Pet API&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\arodr\\Documents\\AngularProjects\\tfm\\server\\test\\petTest.js&quot;,&quot;file&quot;:&quot;\\test\\petTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: Get session token and user id in \&quot;Testing Pet API\&quot;&quot;,&quot;fullTitle&quot;:&quot;Testing Pet API \&quot;before all\&quot; hook: Get session token and user id in \&quot;Testing Pet API\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:358,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(urlUsers)\n    .post(&#x27;/login&#x27;)\n    .send({username: &#x27;Prueba&#x27;, password: &#x27;prueba&#x27;})\n    .end(function (err, res){\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property(&#x27;token&#x27;).not.be.null;\n        token = res.body.token;\n        userId = res.body.id;\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8866d9a-6d30-45d3-b6e5-07c48cc51b40&quot;,&quot;parentUUID&quot;:&quot;c12780d6-94ca-4172-a2c1-6aa04c859356&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not create a new pet without token&quot;,&quot;fullTitle&quot;:&quot;Testing Pet API should not create a new pet without token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .post(&#x27;/&#x27;)\n    .send({})\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).to.be.undefined;\n        expect(res).to.have.status(403);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad62321d-9add-410e-b7b6-048ab7e64082&quot;,&quot;parentUUID&quot;:&quot;c12780d6-94ca-4172-a2c1-6aa04c859356&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create a new pet&quot;,&quot;fullTitle&quot;:&quot;Testing Pet API should create a new pet&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:28,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .post(&#x27;/&#x27;)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .send({name: &#x27;Coco&#x27;, breed: &#x27;Boxer&#x27;, weight: 15, age: 5, description: &#x27;description&#x27;, picture: &#x27;&#x27;, userId: userId})\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property(&#x27;id&#x27;);\n        id = res.body.id;\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5bd9575-fc08-43e9-961c-5e5171137633&quot;,&quot;parentUUID&quot;:&quot;c12780d6-94ca-4172-a2c1-6aa04c859356&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not find pet without token&quot;,&quot;fullTitle&quot;:&quot;Testing Pet API should not find pet without token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/search/&#x27; + userId)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).to.be.undefined;\n        expect(res).to.have.status(403);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e65a10a-211d-4e7b-a687-140e7772ad62&quot;,&quot;parentUUID&quot;:&quot;c12780d6-94ca-4172-a2c1-6aa04c859356&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not find pet by non-existing id&quot;,&quot;fullTitle&quot;:&quot;Testing Pet API should not find pet by non-existing id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/&#x27; + id)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property(&#x27;id&#x27;).to.be.equal(id);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2cad3e4c-6f3e-4c7b-8aaa-2bf6d34a1fc0&quot;,&quot;parentUUID&quot;:&quot;c12780d6-94ca-4172-a2c1-6aa04c859356&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should find pet by its id&quot;,&quot;fullTitle&quot;:&quot;Testing Pet API should find pet by its id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/00000&#x27;)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(404);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fbc7deed-9463-42e3-a2b6-fd8051aafd5d&quot;,&quot;parentUUID&quot;:&quot;c12780d6-94ca-4172-a2c1-6aa04c859356&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not find pet by non-existing user id&quot;,&quot;fullTitle&quot;:&quot;Testing Pet API should not find pet by non-existing user id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/search/00000&#x27;)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.lengthOf(0);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dcdbfe05-c459-481e-a6cd-a832df975af2&quot;,&quot;parentUUID&quot;:&quot;c12780d6-94ca-4172-a2c1-6aa04c859356&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should find pet by its user id&quot;,&quot;fullTitle&quot;:&quot;Testing Pet API should find pet by its user id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/search/&#x27; + userId)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.lengthOf(1);\n        expect(res.body[0]).to.have.property(&#x27;id&#x27;).to.be.equal(id);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4893985d-e038-41d5-a55d-5210947f7ef4&quot;,&quot;parentUUID&quot;:&quot;c12780d6-94ca-4172-a2c1-6aa04c859356&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update pet without token&quot;,&quot;fullTitle&quot;:&quot;Testing Pet API should not update pet without token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .put(&#x27;/&#x27; + id)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).to.be.undefined;\n        expect(res).to.have.status(403);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;596a802a-8a19-4fe6-ae01-473052f16243&quot;,&quot;parentUUID&quot;:&quot;c12780d6-94ca-4172-a2c1-6aa04c859356&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update pet by non-existing ID&quot;,&quot;fullTitle&quot;:&quot;Testing Pet API should not update pet by non-existing ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .put(&#x27;/00000&#x27;)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .send({name: &#x27;another name&#x27;, breed: &#x27;another breed&#x27;})\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(404);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ddb02cb-f312-41b3-83f2-bc34660de76e&quot;,&quot;parentUUID&quot;:&quot;c12780d6-94ca-4172-a2c1-6aa04c859356&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should update pet by its ID&quot;,&quot;fullTitle&quot;:&quot;Testing Pet API should update pet by its ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .put(&#x27;/&#x27; + id)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .send({name: &#x27;updated name&#x27;, breed: &#x27;new breed&#x27;})\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cdc8ac00-a8e9-4772-b391-a650f47f0cb7&quot;,&quot;parentUUID&quot;:&quot;c12780d6-94ca-4172-a2c1-6aa04c859356&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete pet without token&quot;,&quot;fullTitle&quot;:&quot;Testing Pet API should not delete pet without token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .delete(&#x27;/&#x27; + id)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).to.be.undefined;\n        expect(res).to.have.status(403);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23a0f38d-f4f9-417b-80a6-e5f7f73ef734&quot;,&quot;parentUUID&quot;:&quot;c12780d6-94ca-4172-a2c1-6aa04c859356&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete pet by its ID&quot;,&quot;fullTitle&quot;:&quot;Testing Pet API should delete pet by its ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .delete(&#x27;/&#x27; + id)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e0b384e-0a61-4ca9-87b6-f4e0aba0e493&quot;,&quot;parentUUID&quot;:&quot;c12780d6-94ca-4172-a2c1-6aa04c859356&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not find deleted pet&quot;,&quot;fullTitle&quot;:&quot;Testing Pet API should not find deleted pet&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/search/&#x27; + userId)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.lengthOf(0);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe676ed2-b00e-41ed-8641-0b2dc12b2718&quot;,&quot;parentUUID&quot;:&quot;c12780d6-94ca-4172-a2c1-6aa04c859356&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ad62321d-9add-410e-b7b6-048ab7e64082&quot;,&quot;d5bd9575-fc08-43e9-961c-5e5171137633&quot;,&quot;3e65a10a-211d-4e7b-a687-140e7772ad62&quot;,&quot;2cad3e4c-6f3e-4c7b-8aaa-2bf6d34a1fc0&quot;,&quot;fbc7deed-9463-42e3-a2b6-fd8051aafd5d&quot;,&quot;dcdbfe05-c459-481e-a6cd-a832df975af2&quot;,&quot;4893985d-e038-41d5-a55d-5210947f7ef4&quot;,&quot;596a802a-8a19-4fe6-ae01-473052f16243&quot;,&quot;2ddb02cb-f312-41b3-83f2-bc34660de76e&quot;,&quot;cdc8ac00-a8e9-4772-b391-a650f47f0cb7&quot;,&quot;23a0f38d-f4f9-417b-80a6-e5f7f73ef734&quot;,&quot;9e0b384e-0a61-4ca9-87b6-f4e0aba0e493&quot;,&quot;fe676ed2-b00e-41ed-8641-0b2dc12b2718&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:118,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2b29426e-7de1-466d-bac6-c49be14a4933&quot;,&quot;title&quot;:&quot;Testing User API&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\arodr\\Documents\\AngularProjects\\tfm\\server\\test\\userTest.js&quot;,&quot;file&quot;:&quot;\\test\\userTest.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should save a new user&quot;,&quot;fullTitle&quot;:&quot;Testing User API should save a new user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:354,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .post(&#x27;/&#x27;)\n    .send({username: &#x27;Celia&#x27;, password: &#x27;celia&#x27;, address: &#x27;new direction&#x27;, description: &#x27;new description&#x27;, email: &#x27;email@gmail.com&#x27;})\n    .end(function (err, res){\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property(&#x27;id&#x27;);\n        id = res.body.id;\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;296e57f2-b030-4f1e-8b02-cfcf1179b583&quot;,&quot;parentUUID&quot;:&quot;2b29426e-7de1-466d-bac6-c49be14a4933&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should find user by its name and therefore return 409 by app logic&quot;,&quot;fullTitle&quot;:&quot;Testing User API should find user by its name and therefore return 409 by app logic&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/search/Celia&#x27;)\n    .end(function (err, res){\n        expect(res).to.have.status(409);\n        expect(res.body).to.have.property(&#x27;message&#x27;).to.be.equal(&#x27;Ese usuario ya existe&#x27;);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41fecd9c-811a-494a-a2b3-89a7e9f22fce&quot;,&quot;parentUUID&quot;:&quot;2b29426e-7de1-466d-bac6-c49be14a4933&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not find user by non-existing user name and therefore return 200 by app logic&quot;,&quot;fullTitle&quot;:&quot;Testing User API should not find user by non-existing user name and therefore return 200 by app logic&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/search/Ce&#x27;)\n    .end(function (err, res){\n        expect(res).to.have.status(200);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c05e2a4c-5349-45bd-a9a5-6d89ffd336f2&quot;,&quot;parentUUID&quot;:&quot;2b29426e-7de1-466d-bac6-c49be14a4933&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should find user and return login token&quot;,&quot;fullTitle&quot;:&quot;Testing User API should find user and return login token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:337,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .post(&#x27;/login&#x27;)\n    .send({username: &#x27;Celia&#x27;, password: &#x27;celia&#x27;})\n    .end(function (err, res){\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property(&#x27;token&#x27;).not.be.null;\n        token = res.body.token;\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;876451f6-f194-4f96-b14b-b3afa53b5e95&quot;,&quot;parentUUID&quot;:&quot;2b29426e-7de1-466d-bac6-c49be14a4933&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not find user without token&quot;,&quot;fullTitle&quot;:&quot;Testing User API should not find user without token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/&#x27; + id)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).to.be.undefined;\n        expect(res).to.have.status(403);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd026ff9-4476-4a6d-8088-fbaa3fce3cfd&quot;,&quot;parentUUID&quot;:&quot;2b29426e-7de1-466d-bac6-c49be14a4933&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should find user by its ID&quot;,&quot;fullTitle&quot;:&quot;Testing User API should find user by its ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/&#x27; + id)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property(&#x27;id&#x27;).to.be.equal(id);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0fedb473-ae2a-4e0a-8e26-0d5ab4db3889&quot;,&quot;parentUUID&quot;:&quot;2b29426e-7de1-466d-bac6-c49be14a4933&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update user without token&quot;,&quot;fullTitle&quot;:&quot;Testing User API should not update user without token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .put(&#x27;/&#x27; + id)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).to.be.undefined;\n        expect(res).to.have.status(403);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a4de564-9813-418d-afce-4bfaab0a3433&quot;,&quot;parentUUID&quot;:&quot;2b29426e-7de1-466d-bac6-c49be14a4933&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update user by non-existing ID&quot;,&quot;fullTitle&quot;:&quot;Testing User API should not update user by non-existing ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .put(&#x27;/00000&#x27;)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .send({address: &#x27;another address&#x27;, description: &#x27;another description&#x27;})\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(404);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4cf76675-9f1c-49cf-97be-c89352540c60&quot;,&quot;parentUUID&quot;:&quot;2b29426e-7de1-466d-bac6-c49be14a4933&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should update user by its ID&quot;,&quot;fullTitle&quot;:&quot;Testing User API should update user by its ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .put(&#x27;/&#x27; + id)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .send({address: &#x27;updated address&#x27;, description: &#x27;updated description&#x27;})\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4fcdf3f-03a3-4d1e-abbf-38fbb3f99db1&quot;,&quot;parentUUID&quot;:&quot;2b29426e-7de1-466d-bac6-c49be14a4933&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete user without token&quot;,&quot;fullTitle&quot;:&quot;Testing User API should not delete user without token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .delete(&#x27;/&#x27; + id)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).to.be.undefined;\n        expect(res).to.have.status(403);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a58435e-ef2f-4d1f-b1d3-2315d4334ed2&quot;,&quot;parentUUID&quot;:&quot;2b29426e-7de1-466d-bac6-c49be14a4933&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete user by non-existing ID&quot;,&quot;fullTitle&quot;:&quot;Testing User API should not delete user by non-existing ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .delete(&#x27;/00000&#x27;)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(404);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0fae9225-f5db-4c9e-84c6-89cbbef32611&quot;,&quot;parentUUID&quot;:&quot;2b29426e-7de1-466d-bac6-c49be14a4933&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete user by its ID&quot;,&quot;fullTitle&quot;:&quot;Testing User API should delete user by its ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .delete(&#x27;/&#x27; + id)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(200);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1c6bc9c-e00a-4041-8d45-275da4fc1e09&quot;,&quot;parentUUID&quot;:&quot;2b29426e-7de1-466d-bac6-c49be14a4933&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not find deleted user&quot;,&quot;fullTitle&quot;:&quot;Testing User API should not find deleted user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(url)\n    .get(&#x27;/&#x27; + id)\n    .set(&#x27;Authorization&#x27;, &#x27;Bearer &#x27;  + token)\n    .end(function (err, res){\n        expect(res.header[&#x27;authorization&#x27;]).not.be.null;\n        expect(res).to.have.status(404);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c588619f-4bec-4c1f-a64d-18060fe996ac&quot;,&quot;parentUUID&quot;:&quot;2b29426e-7de1-466d-bac6-c49be14a4933&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;296e57f2-b030-4f1e-8b02-cfcf1179b583&quot;,&quot;41fecd9c-811a-494a-a2b3-89a7e9f22fce&quot;,&quot;c05e2a4c-5349-45bd-a9a5-6d89ffd336f2&quot;,&quot;876451f6-f194-4f96-b14b-b3afa53b5e95&quot;,&quot;bd026ff9-4476-4a6d-8088-fbaa3fce3cfd&quot;,&quot;0fedb473-ae2a-4e0a-8e26-0d5ab4db3889&quot;,&quot;9a4de564-9813-418d-afce-4bfaab0a3433&quot;,&quot;4cf76675-9f1c-49cf-97be-c89352540c60&quot;,&quot;c4fcdf3f-03a3-4d1e-abbf-38fbb3f99db1&quot;,&quot;3a58435e-ef2f-4d1f-b1d3-2315d4334ed2&quot;,&quot;0fae9225-f5db-4c9e-84c6-89cbbef32611&quot;,&quot;b1c6bc9c-e00a-4041-8d45-275da4fc1e09&quot;,&quot;c588619f-4bec-4c1f-a64d-18060fe996ac&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:784,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;8.3.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.2.2&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;5.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;server&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\arodr\\Documents\\AngularProjects\\tfm\\server\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\arodr\\Documents\\AngularProjects\\tfm\\server\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>